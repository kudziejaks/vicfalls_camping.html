<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VicFalls Summer Holiday Camping</title>
<style>
:root{
  --pink:#ff8fc3;
  --white:#ffffff;
  --glitter-blue:#85d7ff;
  --bg:#e0f7fa;
}
*{box-sizing:border-box}
body{
  font-family:Arial,sans-serif;
  margin:0;
  min-height:100vh;
  background: url('https://i.ibb.co/k3QnXqL/victoriafalls.jpg') no-repeat center center fixed;
  background-size: cover;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
  color:#fff;
}
.app{
  width:100%;
  max-width:1000px;
  background: rgba(0,0,0,0.6);
  border-radius:16px;
  overflow:hidden;
  padding:20px;
}
header{padding:20px;text-align:center;}
header h1{font-size:1.8rem;margin:0;text-shadow:2px 2px 4px #000;}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px;}
.card{
  background: rgba(255,255,255,0.1);
  padding:18px;
  border-radius:12px;
  box-shadow:0 4px 15px rgba(0,0,0,0.5);
}
label{display:block;margin-top:12px;font-size:0.9rem;}
input,select{width:100%;padding:10px;border-radius:8px;border:none;margin-top:6px;}
button{
  margin-top:14px;
  padding:10px 14px;
  border-radius:10px;
  border:none;
  background: linear-gradient(45deg, var(--pink), var(--glitter-blue));
  color:#fff;
  font-weight:700;
  cursor:pointer;
  transition: all 0.3s ease;
}
button:hover{transform:scale(1.05);box-shadow:0 4px 20px rgba(0,0,0,0.5);}
.hidden{display:none;}
footer{margin-top:20px;text-align:center;color:#fff;}
.activity{margin:8px 0;}
</style>
</head>
<body>
<div class="app">
<header>
<h1>Welcome to VicFalls Summer Holiday Camping!</h1>
<p>Login to see activities and RSVP.</p>
</header>

<div class="grid">
<div>
  <div class="card">
    <h2>Login</h2>
    <label for="loginName">Name</label>
    <input type="text" id="loginName" placeholder="First Last"/>
    <label for="loginPass">Password</label>
    <input type="password" id="loginPass" placeholder="Password (firstborn)"/>
    <button id="loginBtn">Login</button>
    <p id="status">Not logged in</p>
  </div>

  <div class="card hidden" id="adminPanel">
    <h2>Admin Panel â€” Invitation Responses</h2>
    <div>
      <strong>Accepted:</strong><div id="acceptedList"></div>
      <strong>Cancelled:</strong><div id="cancelledList"></div>
      <strong>Not Participating / Donor:</strong><div id="deniedList"></div>
      <button id="closeAdminBtn">Close Admin Panel</button>
    </div>
  </div>
</div>

<div>
  <div class="card">
    <h2>Activities</h2>
    <div class="activity">White water rafting down the Zambezi river</div>
    <div class="activity">Victoria Falls helicopter tour</div>
    <div class="activity">Full day tour to Chobe National Park and Botswana</div>
    <div class="activity">Zambezi sunset cruise with wildlife</div>
    <div class="activity">Boma dinner and drum show</div>
  </div>

  <div class="card hidden" id="rsvpCard">
    <h2>RSVP</h2>
    <button id="acceptBtn">Accept Invite</button>
    <button id="cancelBtn" class="hidden">Cancel Acceptance</button>
    <p id="rsvpMsg"></p>
  </div>
</div>
</div>

<footer>Admin password to see responses: victoriaadmin</footer>
</div>

<script>
// Guest database with firstborn child as password
const guests = {
  "Godfrey Jakata": {password:"Chikomborero", clan:"Godfrey", firstborn:"Chikomborero"},
  "Fine Jakata": {password:"Tawana", clan:"Fine", firstborn:"Tawana"},
  "Steven Jakata": {password:"Thoja", clan:"Steven", firstborn:"Thoja"},
  "Kudakwashe Jakata": {password:"Kudzaishe", clan:"Kudakwashe", firstborn:"Kudzaishe"},
  "Jane Mukucha": {password:"Sasha", clan:"Jane", firstborn:"Sasha"},
  "Luckson Jakata": {password:"Shumirai", clan:"Luckson", firstborn:"Shumirai"},
  "Philip Mukucha": {password:"Philip", clan:"Philip", firstborn:"Philip"}
};

// Admin password
const ADMIN_PASSWORD = "victoriaadmin";

const loginBtn = document.getElementById("loginBtn");
const loginNameEl = document.getElementById("loginName");
const loginPassEl = document.getElementById("loginPass");
const statusEl = document.getElementById("status");
const rsvpCard = document.getElementById("rsvpCard");
const acceptBtn = document.getElementById("acceptBtn");
const cancelBtn = document.getElementById("cancelBtn");
const rsvpMsg = document.getElementById("rsvpMsg");
const adminPanel = document.getElementById("adminPanel");
const acceptedList = document.getElementById("acceptedList");
const cancelledList = document.getElementById("cancelledList");
const deniedList = document.getElementById("deniedList");
const closeAdminBtn = document.getElementById("closeAdminBtn");

let currentUser = null;

// Session storage for RSVP responses
function loadRSVP(){ return JSON.parse(localStorage.getItem("rsvp_data")||"{}");}
function saveRSVP(data){ localStorage.setItem("rsvp_data", JSON.stringify(data));}
function updateAdmin(){
  const data = loadRSVP();
  acceptedList.textContent = Object.keys(data).filter(k=>data[k]==="accepted").join(", ");
  cancelledList.textContent = Object.keys(data).filter(k=>data[k]==="cancelled").join(", ");
  deniedList.textContent = Object.keys(data).filter(k=>data[k]==="denied").join(", ");
}

// LOGIN
loginBtn.onclick = ()=>{
  let name = loginNameEl.value.trim();
  let pass = loginPassEl.value.trim();
  if(!name.includes(" ")){ alert("Please enter full name (First Last)"); return; }

  if(guests[name] && guests[name].password === pass){
    currentUser = name;
    statusEl.textContent = "Logged in as: "+name;
    rsvpCard.classList.remove("hidden");
    cancelBtn.classList.toggle("hidden", loadRSVP()[name]!=="accepted");
  } else {
    currentUser = "Gatecrusher";
    statusEl.textContent = "Logged in as: Gatecrusher";
    rsvpCard.classList.remove("hidden");
    cancelBtn.classList.add("hidden");
  }
};

// RSVP
acceptBtn.onclick = ()=>{
  if(!currentUser) return;
  let data = loadRSVP();
  data[currentUser]="accepted";
  saveRSVP(data);
  rsvpMsg.textContent = "You have accepted the invitation!";
  cancelBtn.classList.remove("hidden");
};
cancelBtn.onclick = ()=>{
  if(!currentUser) return;
  let data = loadRSVP();
  data[currentUser]="cancelled";
  saveRSVP(data);
  rsvpMsg.textContent = "You have cancelled your acceptance.";
  cancelBtn.classList.add("hidden");
};

// ADMIN PANEL
document.querySelector("footer").onclick = ()=>{
  let pw = prompt("Enter admin password:");
  if(pw===ADMIN_PASSWORD){
    updateAdmin();
    adminPanel.classList.remove("hidden");
  } else alert("Wrong password");
};

closeAdminBtn.onclick = ()=>{adminPanel.classList.add("hidden");};
</script>
</body>
</html>
